{"version":3,"file":"4.chunk.js","sources":["webpack:///./src/app/service/page.svc.ts","webpack:///./src/app/pages/pages.module.ts","webpack:///./src/app/pages/system-config.component.ts","webpack:///./src/app/shared/criteria.profile.ts","webpack:///./src/app/pages/system-config.component.html"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Http, Response, URLSearchParams } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/do';\r\nimport 'rxjs/add/operator/catch';\r\nimport { BaseService, CustomBaseService } from './base/base.svc';\r\n\r\nexport const apiPageUrl = {\r\n\tsearchEngine: 'searchEngine/list'\r\n}\r\n\r\n@Injectable()\r\nexport class PageService extends CustomBaseService {\r\n\tbaseUrl: string = 'api/page/';\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./node_modules/angular-router-loader/src?loader=system&genDir=compiled/src/app&aot=false!./src/app/service/page.svc.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgUploaderModule } from 'ngx-uploader';\r\nimport { ModalModule, Ng2BootstrapModule, PaginationModule, TabsModule, AlertModule } from 'ngx-bootstrap';\r\n\r\nimport { PageService } from '../service/page.svc';\r\nimport { SystemConfigComponent } from './system-config.component';\r\n\r\n\r\nexport const routes = [\r\n\t{ path: '', component: SystemConfigComponent, pathMatch: 'full' },\r\n\t{ path: 'system/config', component: SystemConfigComponent, pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n\timports: [FormsModule, ReactiveFormsModule, CommonModule, RouterModule.forChild(routes), NgUploaderModule, Ng2BootstrapModule,TabsModule.forRoot(),AlertModule.forRoot(),\r\n\t\tPaginationModule.forRoot(), ModalModule.forRoot()],\r\n\tdeclarations: [\r\n\t\tSystemConfigComponent\r\n\t],\r\n\tproviders: [\r\n\t\tPageService\r\n\t]\r\n})\r\nexport class PagesModule {\r\n\tstatic routes = routes;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./node_modules/angular-router-loader/src?loader=system&genDir=compiled/src/app&aot=false!./src/app/pages/pages.module.ts","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { ModalDirective, AlertComponent, TabsetComponent } from 'ngx-bootstrap';\r\nimport { Criteria, PaginationComponent } from '../shared/criteria.profile';\r\nimport { PageService, apiPageUrl } from '../service/page.svc';\r\n\r\n@Component({\r\n\ttemplate: require('./system-config.component.html')\r\n})\r\n\r\nexport class SystemConfigComponent extends PaginationComponent {\r\n\terror: string;\r\n\tsearchEngines: any;\r\n\r\n\tconstructor(private readonly pageSvc: PageService) {\r\n\t\tsuper();\r\n\t\tthis.criteria = Object.assign({}, Criteria);\r\n\t}\r\n\r\n\tngAfterViewInit() {\r\n\t\tthis.loadData();\r\n\t}\r\n\t\r\n\tloadData() {\r\n\t\tthis.pageSvc.httpGet(apiPageUrl.searchEngine, this.criteria, d => {\r\n\t\t\tthis.rows = d.value.data;\r\n\t\t\tthis.criteria.total = d.value.availableCnt;\r\n\t\t}, error => {\r\n\t\t\tthis.error = error;\r\n\t\t});\r\n\t}\r\n\t\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./node_modules/angular-router-loader/src?loader=system&genDir=compiled/src/app&aot=false!./src/app/pages/system-config.component.ts","//公用Criteria\r\nvar Criteria: { pageIndex: number, pageSize: number, total: number, startDate: Date, endDate: Date };\r\nthis.Criteria = { pageIndex: 1, pageSize: 50, total: 0 };\r\nexport { Criteria };\r\n\r\nexport abstract class PaginationComponent {\r\n\tcriteria: any = Criteria;\r\n\tchecked = false;\r\n\trows: any[] = [];\r\n\tlastChecked = 0;\r\n\r\n\tloadData() { }\r\n\r\n\tisChecked(): boolean {\r\n\t\treturn this.rows.filter(x => x.checked).length > 0 ? true : false;\r\n\t}\r\n\r\n\tonChangePage(page: any) {\r\n\t\tthis.checked = false;\r\n\t\tthis.criteria.pageIndex = page.page;\r\n\t\tthis.criteria.pageSize = page.itemsPerPage;\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tonChangePageSize() {\r\n\t\tthis.checked = false;\r\n\t\tthis.criteria.pageIndex = 1;\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tonSelectRange(date: string[]) {\r\n\t\tif (date.length !== 2) return;\r\n\t\t[this.criteria.startDate, this.criteria.endDate] = date;\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\ttoggleCheck() {\r\n\t\tthis.checked = !this.checked;\r\n\t\tthis.rows.forEach(x => x.checked = this.checked);\r\n\t}\r\n\r\n\tsingleCheck(idx: number, event: any) {\r\n\t\tthis.rows[idx].checked = !this.rows[idx].checked;\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\r\n\tradioCheck(idx: number, event: any, callback: any) {\r\n\t\tthis.rows.forEach(x => x.checked = false);\r\n\t\tthis.rows[idx].checked = !this.rows[idx].checked;\r\n\t\tif (callback) callback();\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\r\n\tlineCheck(idx: number, event: any, callback?: any) {\r\n\t\tif (event.ctrlKey || event.shiftKey) { this.cleanSelection(); }\r\n\t\tif (event.ctrlKey === true) {\r\n\r\n\t\t\tthis.rows[idx].checked = !this.rows[idx].checked;\r\n\t\t}\r\n\t\telse if (event.shiftKey === true) {\r\n\t\t\tfor (let i = Math.min(idx, this.lastChecked); i <= Math.max(idx, this.lastChecked); i++) {\r\n\t\t\t\tthis.rows[i].checked = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.rows.forEach(x => x.checked = false);\r\n\t\t\tthis.rows[idx].checked = true;\r\n\t\t}\r\n\t\tthis.lastChecked = idx;\r\n\r\n\t\tif (callback) callback();\r\n\t}\r\n\r\n\tcleanSelection() {\r\n\t\tif (window.getSelection) {\r\n\t\t\tif (window.getSelection().empty) {  // Chrome\r\n\t\t\t\twindow.getSelection().empty();\r\n\t\t\t} else if (window.getSelection().removeAllRanges) {  // Firefox\r\n\t\t\t\twindow.getSelection().removeAllRanges();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tchangeSource(soucre: any) {\r\n\t\tthis.criteria.source = soucre;\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tchangePort(port: any) {\r\n\t\tthis.criteria.poa = port;\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tchangeHub(hubID: any) {\r\n\t\tthis.criteria.rcvHubID = hubID;\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tchangeRoute(routeID: any) {\r\n\t\tthis.criteria.routeID = routeID;\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tchangeBroker(brokerID: any) {\r\n\t\tthis.criteria.brokerID = brokerID;\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tchangeMftGroup(mftGroup: any) {\r\n\t\tthis.criteria.mftGroup = mftGroup;\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tchangeTenant(id: any) {\r\n\t\tthis.criteria.tenantID = id;\r\n\t\tthis.loadData(); \r\n\t}\r\n\r\n\tcheckedIds() {\r\n\t\tconst ids: number[] = [];\r\n\t\tthis.rows.filter(x => x.checked).forEach(x => ids.push(x.id));\r\n\t\tif (ids.length < 1) {\r\n\t\t\treturn [];\r\n\t\t} else {\r\n\t\t\treturn ids;\r\n\t\t}\r\n\t}\r\n\tallIds() {\r\n\t\tconst ids: number[] = [];\r\n\t\tthis.rows.forEach(x => ids.push(x.id));\r\n\t\tif (ids.length < 1) {\r\n\t\t\treturn [];\r\n\t\t} else {\r\n\t\t\treturn ids;\r\n\t\t}\r\n\t}\r\n\r\n\tgetRowIds() {\r\n\t\tvar listIds = new Array<any>();\r\n\t\tthis.rows.filter(x => x.checked).forEach(item =>\r\n\t\t\tlistIds.push(item.id)\r\n\t\t);\r\n\t\treturn listIds;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./node_modules/angular-router-loader/src?loader=system&genDir=compiled/src/app&aot=false!./src/app/shared/criteria.profile.ts","module.exports = \"<!DOCTYPE html>\\r\\n<html>\\r\\n<head>\\r\\n\\t<meta charset=\\\"utf-8\\\" />\\r\\n\\t<title></title>\\r\\n</head>\\r\\n<body>\\r\\n\\t<div class=\\\"row static-info\\\" *ngIf=\\\"rows.length>0\\\">\\r\\n\\t\\t<ul class=\\\"row col-md-12\\\" *ngFor=\\\"let item of rows; let idx=index\\\">\\r\\n\\t\\t\\t<li class=\\\"form-check col-md-4\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"form-check abc-checkbox\\\" (click)=\\\"checkSearchEngine(idx, $event);\\\">\\r\\n\\t\\t\\t\\t\\t<input class=\\\"form-check-input\\\" [checked]=\\\"item?.checked\\\" type=\\\"checkbox\\\" id=\\\"{{idx}}\\\" value=\\\"{{item.id}}\\\" role=\\\"checkbox\\\">\\r\\n\\t\\t\\t\\t\\t<label class=\\\"form-check-label\\\" for=\\\"idx\\\">{{item.name}}</label>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</li>\\r\\n\\t\\t</ul>\\r\\n\\t</div>\\r\\n\\r\\n\\r\\n</body>\\r\\n</html> \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/system-config.component.html\n// module id = 913\n// module chunks = 4"],"mappings":";;;;;;;;AAAA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAAA;AADA;AAAA;AAEA;;AACA;AAAA;AAAA;AAFA;AADA;AACA;AAAA;;;;;;;;;;;ACZA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAYA;AAAA;AAEA;AAAA;AAAA;AADA;AADA;AAVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;AC3BA;AAEA;AACA;AAMA;AAAA;AAIA;AAAA;AAAA;AAEA;;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAtBA;AAJA;AACA;AACA;AAMA;AAJA;AAAA;;;;;;;;;;;ACTA;AACA;AAEA;AADA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAuIA;AArIA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AA3IA;;;;;;;;ACLA;;;;A","sourceRoot":""}